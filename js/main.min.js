!function(n,o){var e,t=n.jQuery||n.Cowboy||(n.Cowboy={});t.throttle=e=function(n,e,i,a){var l,u=0;function s(){var t=this,s=+new Date-u,r=arguments;function c(){u=+new Date,i.apply(t,r)}function m(){l=o}a&&!l&&c(),l&&clearTimeout(l),a===o&&s>n?c():!0!==e&&(l=setTimeout(a?m:c,a===o?n-s:n))}return"boolean"!=typeof e&&(a=i,i=e,e=o),t.guid&&(s.guid=i.guid=i.guid||t.guid++),s},t.debounce=function(n,t,i){return i===o?e(n,t,!1):e(n,i,!1!==t)}}(this);let getBook=function(n){$.ajax({url:"https://www.googleapis.com/books/v1/volumes?",data:{q:n}}).done((function(n){let o=n.items;$(".book-search-result").html(""),o?$.each(o,(function(n,o){let e=normalizeBookItem(o);$(".book-search-result").append(renderTemplate(e))})):$(".book-search-result").html("<p class='plug'>No matches</p>")})).fail((function(n){console.log("error",n)}))},normalizeBookItem=function(n){return{img:n.volumeInfo.imageLinks?n.volumeInfo.imageLinks.smallThumbnail:"img/image-not-available.jpg",title:n.volumeInfo.title,authors:n.volumeInfo.authors?n.volumeInfo.authors.join(", "):"N/A",desc:n.volumeInfo.description||"N/A",link:n.volumeInfo.infoLink}},renderTemplate=function(n){return`<div class="result-item">\n            <div class="result-img-wrap">\n              <img src=${n.img} class="result-img">\n           </div>\n\n            <div class="result-info">\n              <h4 class="info-title">${n.title}</h4>\n              <h6 class="info-author">${n.authors}</h6>\n              <p class="info-desc">${n.desc}</p>\n              <a href=${n.link} target="_blank" class="info-link">See more</a>\n            </div>\n          </div>`};$(document).ready((function(){$(".book-search-input").on("input",$.debounce(3e3,(function(){let n=$(this).val();n.length>=3&&getBook(n)}))),$(document).ajaxStart((function(){$(".spinner-ring").show()})).ajaxStop((function(){$(".spinner-ring").hide()}))}));